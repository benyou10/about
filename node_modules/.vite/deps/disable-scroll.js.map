{
  "version": 3,
  "sources": ["../../disable-scroll/src/index.ts"],
  "sourcesContent": ["const canUseDOM = () =>\n  typeof window !== 'undefined' && !!window.document && !!window.document.createElement;\n\ninterface Options {\n  authorizedInInputs: number[];\n  disableKeys: boolean;\n  disableScroll: boolean;\n  disableWheel: boolean;\n  keyboardKeys: number[];\n}\n\nclass DisableScroll {\n  element: Element | null;\n  lockToScrollPos: [number, number];\n  options: Options;\n\n  constructor() {\n    this.element = null;\n    this.lockToScrollPos = [0, 0];\n    this.options = {\n      authorizedInInputs: [32, 37, 38, 39, 40],\n      disableKeys: true,\n      disableScroll: true,\n      disableWheel: true,\n      keyboardKeys: [32, 33, 34, 35, 36, 37, 38, 39, 40],\n      // space: 32, page up: 33, page down: 34, end: 35, home: 36\n      // left: 37, up: 38, right: 39, down: 40\n    };\n\n    /* istanbul ignore else */\n    if (canUseDOM()) {\n      this.element = document.scrollingElement;\n    }\n  }\n\n  /**\n   * Disable Page Scroll\n   */\n  on(element?: Element, options?: Partial<Options>) {\n    if (!canUseDOM()) return;\n\n    this.element = element || this.element;\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n\n    const { disableKeys, disableScroll, disableWheel } = this.options;\n\n    /* istanbul ignore else */\n    if (disableWheel) {\n      document.addEventListener('wheel', this.handleWheel, { passive: false });\n      document.addEventListener('touchmove', this.handleWheel, { passive: false });\n    }\n\n    /* istanbul ignore else */\n    if (disableScroll) {\n      this.lockToScrollPos = [this.element?.scrollLeft ?? 0, this.element?.scrollTop ?? 0];\n      document.addEventListener('scroll', this.handleScroll, { passive: false });\n    }\n\n    /* istanbul ignore else */\n    if (disableKeys) {\n      document.addEventListener('keydown', this.handleKeydown, { passive: false });\n    }\n  }\n\n  /**\n   * Re-enable page scrolls\n   */\n  off() {\n    if (!canUseDOM()) return;\n\n    document.removeEventListener('wheel', this.handleWheel);\n    document.removeEventListener('touchmove', this.handleWheel);\n    document.removeEventListener('scroll', this.handleScroll);\n    document.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleWheel = (e: WheelEvent | TouchEvent) => {\n    e.preventDefault();\n  };\n\n  handleScroll = () => {\n    window.scrollTo(...this.lockToScrollPos);\n  };\n\n  handleKeydown = (e: KeyboardEvent) => {\n    let keys = this.options.keyboardKeys;\n\n    /* istanbul ignore else */\n    if (\n      ['INPUT', 'TEXTAREA'].includes((e.target as HTMLInputElement | HTMLTextAreaElement).tagName)\n    ) {\n      keys = keys.filter((key) => !this.options.authorizedInInputs.includes(key));\n    }\n\n    /* istanbul ignore else */\n    if (keys.includes(e.keyCode)) {\n      e.preventDefault();\n    }\n  };\n}\n\nexport default new DisableScroll();\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAA,IAAM,YAAY,WAAA;AAChB,SAAA,OAAO,WAAW,eAAe,CAAC,CAAC,OAAO,YAAY,CAAC,CAAC,OAAO,SAAS;AAAxE;AAUF,IAAA;;EAAA,WAAA;AAKE,aAAAA,iBAAA;AAAA,UAAA,QAAA;AA+DA,WAAA,cAAc,SAAC,GAA0B;AACvC,UAAE,eAAc;MAClB;AAEA,WAAA,eAAe,WAAA;AACb,eAAO,SAAQ,MAAf,QAAmB,MAAK,eAAe;MACzC;AAEA,WAAA,gBAAgB,SAAC,GAAgB;AAC/B,YAAI,OAAO,MAAK,QAAQ;AAGxB,YACE,CAAC,SAAS,UAAU,EAAE,SAAU,EAAE,OAAkD,OAAO,GAC3F;AACA,iBAAO,KAAK,OAAO,SAAC,KAAG;AAAK,mBAAA,CAAC,MAAK,QAAQ,mBAAmB,SAAS,GAAG;UAA7C,CAA8C;;AAI5E,YAAI,KAAK,SAAS,EAAE,OAAO,GAAG;AAC5B,YAAE,eAAc;;MAEpB;AApFE,WAAK,UAAU;AACf,WAAK,kBAAkB,CAAC,GAAG,CAAC;AAC5B,WAAK,UAAU;QACb,oBAAoB,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE;QACvC,aAAa;QACb,eAAe;QACf,cAAc;QACd,cAAc,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;;AAMnD,UAAI,UAAS,GAAI;AACf,aAAK,UAAU,SAAS;;IAE5B;AAKA,IAAAA,eAAA,UAAA,KAAA,SAAG,SAAmB,SAA0B;;AAC9C,UAAI,CAAC,UAAS;AAAI;AAElB,WAAK,UAAU,WAAW,KAAK;AAC/B,WAAK,UAAO,SAAA,SAAA,CAAA,GACP,KAAK,OAAO,GACZ,OAAO;AAGN,UAAA,KAA+C,KAAK,SAAlD,cAAW,GAAA,aAAE,gBAAa,GAAA,eAAE,eAAY,GAAA;AAGhD,UAAI,cAAc;AAChB,iBAAS,iBAAiB,SAAS,KAAK,aAAa,EAAE,SAAS,MAAK,CAAE;AACvE,iBAAS,iBAAiB,aAAa,KAAK,aAAa,EAAE,SAAS,MAAK,CAAE;;AAI7E,UAAI,eAAe;AACjB,aAAK,kBAAkB,EAAA,MAAA,KAAC,KAAK,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,gBAAU,QAAA,OAAA,SAAA,KAAI,IAAC,MAAA,KAAE,KAAK,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,eAAS,QAAA,OAAA,SAAA,KAAI,CAAC;AACnF,iBAAS,iBAAiB,UAAU,KAAK,cAAc,EAAE,SAAS,MAAK,CAAE;;AAI3E,UAAI,aAAa;AACf,iBAAS,iBAAiB,WAAW,KAAK,eAAe,EAAE,SAAS,MAAK,CAAE;;IAE/E;AAKA,IAAAA,eAAA,UAAA,MAAA,WAAA;AACE,UAAI,CAAC,UAAS;AAAI;AAElB,eAAS,oBAAoB,SAAS,KAAK,WAAW;AACtD,eAAS,oBAAoB,aAAa,KAAK,WAAW;AAC1D,eAAS,oBAAoB,UAAU,KAAK,YAAY;AACxD,eAAS,oBAAoB,WAAW,KAAK,aAAa;IAC5D;AAyBF,WAAAA;EAAA,EA3FA;;AA6FA,IAAA,cAAe,IAAI,cAAa;",
  "names": ["DisableScroll"]
}
